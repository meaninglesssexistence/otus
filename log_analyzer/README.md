# Log Analyzer

Анализатор логов Nginx сервера. Программа находит самый новый лог в указанной
директории и строит отчет по времени обработки запросов к разным URL. Если
при парсинге лога, более 50% строк не распарсилось, отчет не генерируется.

## Настройки программы

Настройки программы содержаться в конфигурационном файле в формате *JSON*.
Программа поддерживает следующин настройки:

- REPORT_SIZE: Максимальное количество URL в отчете
- REPORT_DIR: Путь до директории с файлами отчетов
- LOG_DIR: Путь до директории с файлами логов
- LOG_FILE: Путь до файла, в который записывается лог работы самой программы.
  Значение None, используемое по-умолчанию, означает, что сообщения будут
  выводиться в консоль.

Пример файла настроек:
```
{
    "REPORT_SIZE": 100,
    "REPORT_DIR": "./reports",
    "LOG_DIR": ".",
    "LOG_FILE": "logger.log"
}
```

## Запуск программы

Программы может быть запущена с настройками по-умолчанию (смотри переменную
`config` в файле `log_analyzer.py`:
```
$ python log_analyzer.py
```

Для использования настроек из файла, используются ключи `-c` или `--config`:
```
$ python log_analyzer.py --config ./config.json
```

## Тестирование

Тесты находятся в файле `test_log_analyzer.py`. Для запуска тестов можно
использовать одну их следующих команд:
```
$ python test_log_analyzer.py
$ python -m unittest test_log_analyzer.py
```
